/*! njord.js 18-03-2014 */
var N=this.N||{};!function(a){"use strict";a.Base=function(){this.initialize.apply(this,arguments)},_.extend(a.Base.prototype,{initialize:function(){}}),a.Base.extend=function(a,b){var c,d=this;c=a&&_.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},_.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&_.extend(c.prototype,a),c.__super__=d.prototype,c}}(N);var N=this.N||{};!function(a){"use strict";a.distance=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}}(N);var N=this.N||{};!function(a){"use strict";a.Geometry=a.Base.extend({initialize:function(a){this.coords=a},type:function(){return this.geom_type},length:function(){return 0},area:function(){return 0},bounds:function(){},repr:function(){},distance:function(){}})}(N);var N=this.N||{};!function(a){"use strict";a.Point=a.Geometry.extend({geom_type:"Point",initialize:function(b){a.Geometry.prototype.initialize.apply(this,arguments),this.x=b.x,this.y=b.y},bounds:function(){return{left:this.x,top:this.y,right:this.x,bottom:this.y}},repr:function(){return _.clone(this)},distance:function(b){return"Point"===b.type()?a.distance(this,b):"LineString"===b.type()?b.distance(this):void 0}})}(N);var N=this.N||{};!function(a){"use strict";a.LineString=a.Geometry.extend({geom_type:"LineString",length:function(){return _.reduce(this.coords,function(b,c,d,e){return d<e.length-1&&(b+=a.distance(c,e[d+1])),b},0)},bounds:function(){var a=_.pluck(this.coords,"x"),b=_.pluck(this.coords,"y");return{left:_.min(a),top:_.max(b),right:_.max(a),bottom:_.min(b)}},repr:function(){return new a.Point(this.coords[0])},distance:function(b){return"Point"===b.type()?_.min(_.map(this.coords,function(c){return a.distance(c,b)})):void 0}})}(N);